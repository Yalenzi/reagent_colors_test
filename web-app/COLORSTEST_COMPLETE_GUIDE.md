# 🧪 ColorTests - دليل التطبيق الشامل

## 📋 نظرة عامة

**ColorTests** هو نظام متطور لاختبار الألوان العلمي يهدف إلى تحليل المواد الكيميائية والأدوية باستخدام التفاعلات اللونية. يتكون النظام من تطبيق محمول (Flutter) وتطبيق ويب (Next.js) مع لوحة تحكم إدارية شاملة.

### 🌐 الروابط الرسمية
- **الموقع الرسمي**: https://colorstest.com/
- **لوحة التحكم الإدارية**: https://colorstest.com/admin/
- **استضافة Netlify**: https://app.netlify.com/
- **مستودع GitHub**: https://github.com/colorstest/web-app

---

## 🏗️ البنية التقنية

### 📱 التطبيق المحمول (Flutter)
- **Framework**: Flutter 3.x
- **Language**: Dart
- **Database**: Firebase Firestore
- **Authentication**: Firebase Auth
- **Storage**: Firebase Storage
- **Platform**: Android & iOS

### 🌐 تطبيق الويب (Next.js)
- **Framework**: Next.js 14
- **Language**: TypeScript
- **Styling**: Tailwind CSS
- **Database**: Firebase Firestore
- **Authentication**: Firebase Auth
- **Hosting**: Netlify
- **CDN**: Netlify Edge

### ☁️ الخدمات السحابية
- **Backend**: Firebase (Google Cloud)
- **Functions**: Firebase Cloud Functions
- **Analytics**: Firebase Analytics
- **Monitoring**: Firebase Crashlytics
- **Notifications**: Firebase Cloud Messaging

---

## 🎯 الميزات الرئيسية

### 🔐 نظام المصادقة
- **تسجيل الدخول بالبريد الإلكتروني**
- **تسجيل الدخول بـ Google**
- **إدارة الأدوار** (Admin, Moderator, User)
- **إعادة تعيين كلمة المرور**
- **التحقق من البريد الإلكتروني**

### 🧪 إدارة الاختبارات
- **إنشاء اختبارات جديدة**
- **تعديل الاختبارات الموجودة**
- **حذف الاختبارات**
- **تصنيف الاختبارات**
- **مستويات الصعوبة** (مبتدئ، متوسط، متقدم)
- **إدارة الكواشف**
- **تحميل الصور والفيديوهات**

### 📊 إدارة النتائج
- **عرض النتائج في الوقت الفعلي**
- **التحقق من النتائج**
- **تصدير النتائج**
- **إحصائيات مفصلة**
- **مقارنة النتائج**

### 👥 إدارة المستخدمين
- **عرض قائمة المستخدمين**
- **إدارة الأدوار والصلاحيات**
- **حظر/إلغاء حظر المستخدمين**
- **إحصائيات النشاط**
- **سجل العمليات**

### 📈 التحليلات والتقارير
- **لوحة معلومات تفاعلية**
- **إحصائيات الاستخدام**
- **تقارير مفصلة**
- **رسوم بيانية**
- **تصدير البيانات**

### 🔔 نظام الإشعارات
- **إشعارات فورية**
- **إشعارات البريد الإلكتروني**
- **إشعارات التطبيق المحمول**
- **إشعارات مخصصة**

---

## 🗂️ هيكل المشروع

### 📁 تطبيق الويب
```
web-app/
├── components/           # مكونات React
│   ├── admin/           # مكونات لوحة التحكم
│   ├── common/          # مكونات مشتركة
│   └── layouts/         # تخطيطات الصفحات
├── pages/               # صفحات Next.js
│   ├── admin/           # صفحات لوحة التحكم
│   ├── auth/            # صفحات المصادقة
│   └── api/             # API Routes
├── hooks/               # React Hooks مخصصة
├── lib/                 # مكتبات ومساعدات
│   ├── firebase/        # تكوين Firebase
│   └── utils/           # دوال مساعدة
├── types/               # تعريفات TypeScript
├── styles/              # ملفات CSS
├── public/              # ملفات عامة
└── functions/           # Firebase Cloud Functions
```

### 📁 التطبيق المحمول
```
flutter-app/
├── lib/
│   ├── models/          # نماذج البيانات
│   ├── services/        # خدمات Firebase
│   ├── screens/         # شاشات التطبيق
│   ├── widgets/         # مكونات مخصصة
│   ├── utils/           # دوال مساعدة
│   └── admin/           # شاشات الإدارة
├── assets/              # الصور والملفات
└── android/             # تكوين Android
```

---

## 🚀 التثبيت والإعداد

### 📋 المتطلبات الأساسية
- Node.js 18+
- npm أو yarn
- Firebase CLI
- Git

### 🔧 إعداد تطبيق الويب

1. **استنساخ المستودع**
```bash
git clone https://github.com/colorstest/web-app.git
cd web-app
```

2. **تثبيت التبعيات**
```bash
npm install
```

3. **إعداد متغيرات البيئة**
```bash
cp .env.example .env.local
```

4. **تكوين Firebase**
```bash
firebase login
firebase init
```

5. **تشغيل التطبيق**
```bash
npm run dev
```

### 🔧 إعداد Firebase Functions

1. **الانتقال إلى مجلد Functions**
```bash
cd functions
npm install
```

2. **نشر Functions**
```bash
firebase deploy --only functions
```

### 🔧 إعداد Netlify

1. **ربط المستودع بـ Netlify**
2. **تكوين متغيرات البيئة**
3. **إعداد أوامر البناء**
```bash
Build command: npm run build
Publish directory: out
```

---

## 📚 دليل الاستخدام

### 🔑 تسجيل الدخول للإدارة

1. **الانتقال إلى لوحة التحكم**
   - زيارة: https://colorstest.com/admin/
   
2. **تسجيل الدخول**
   - استخدام البريد الإلكتروني وكلمة المرور
   - أو تسجيل الدخول بـ Google

3. **التحقق من الصلاحيات**
   - يجب أن يكون المستخدم من نوع Admin أو Moderator

### 🧪 إدارة الاختبارات

#### ➕ إضافة اختبار جديد
1. **الانتقال إلى صفحة الاختبارات**
   - Admin → Tests → Create New Test

2. **ملء البيانات الأساسية**
   - الاسم (عربي/إنجليزي)
   - الوصف (عربي/إنجليزي)
   - التصنيف
   - مستوى الصعوبة
   - الوقت المقدر

3. **إضافة الكواشف**
   - اسم الكاشف (عربي/إنجليزي)
   - الكمية والوحدة
   - ملاحظات الأمان

4. **كتابة التعليمات**
   - خطوات مفصلة (عربي/إنجليزي)
   - ملاحظات الأمان
   - النتائج المتوقعة

5. **تحميل الوسائط**
   - صور توضيحية
   - فيديوهات تعليمية

#### ✏️ تعديل اختبار موجود
1. **البحث عن الاختبار**
   - استخدام شريط البحث
   - أو التصفية حسب التصنيف

2. **النقر على أيقونة التعديل**
3. **إجراء التعديلات المطلوبة**
4. **حفظ التغييرات**

#### 🗑️ حذف اختبار
1. **تحديد الاختبار المراد حذفه**
2. **النقر على أيقونة الحذف**
3. **تأكيد عملية الحذف**

### 👥 إدارة المستخدمين

#### 👀 عرض المستخدمين
- **Admin → Users**
- عرض قائمة شاملة بجميع المستخدمين
- معلومات مفصلة عن كل مستخدم

#### 🔧 تعديل صلاحيات المستخدم
1. **النقر على المستخدم المطلوب**
2. **تغيير الدور** (User/Moderator/Admin)
3. **حفظ التغييرات**

#### 🚫 حظر مستخدم
1. **تحديد المستخدم**
2. **النقر على "Block User"**
3. **تأكيد عملية الحظر**

### 📊 عرض التحليلات

#### 📈 لوحة المعلومات الرئيسية
- **Admin → Dashboard**
- إحصائيات سريعة
- رسوم بيانية تفاعلية
- النشاط الأخير

#### 📋 التقارير المفصلة
- **Admin → Analytics**
- تقارير الاستخدام
- إحصائيات الاختبارات
- تحليل سلوك المستخدمين

---

## 🔧 التخصيص والإعدادات

### 🎨 تخصيص الواجهة
- **الألوان**: تعديل ملف `tailwind.config.js`
- **الخطوط**: إضافة خطوط جديدة في `_app.tsx`
- **الشعار**: استبدال ملفات في مجلد `public/`

### 🌐 إضافة لغات جديدة
1. **إنشاء ملفات الترجمة**
   - `public/locales/[lang]/common.json`
   - `public/locales/[lang]/admin.json`

2. **تحديث تكوين i18n**
   - تعديل `next-i18next.config.js`

3. **إضافة اللغة للواجهة**
   - تحديث مكون `LanguageSwitcher`

### ⚙️ إعدادات النظام
- **Admin → Settings**
- إعدادات عامة للنظام
- تكوين الإشعارات
- إعدادات الأمان

---

## 🔒 الأمان والصلاحيات

### 🛡️ قواعد الأمان في Firestore
```javascript
// مثال على قواعد الأمان
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    // قواعد المستخدمين
    match /users/{userId} {
      allow read, write: if request.auth != null && 
        (request.auth.uid == userId || isAdmin());
    }
    
    // قواعد الاختبارات
    match /tests/{testId} {
      allow read: if request.auth != null;
      allow write: if request.auth != null && 
        (isAdmin() || isModerator());
    }
  }
}
```

### 🔐 مستويات الصلاحيات
- **Admin**: صلاحيات كاملة
- **Moderator**: إدارة المحتوى والمستخدمين
- **User**: استخدام الاختبارات فقط

---

## 📱 التزامن مع التطبيق المحمول

### 🔄 التحديث الفوري
- **Firestore Real-time**: تحديث البيانات فورياً
- **Cloud Functions**: معالجة العمليات تلقائياً
- **Push Notifications**: إشعارات فورية

### 📊 مزامنة البيانات
- **الاختبارات**: تحديث فوري عبر جميع المنصات
- **النتائج**: مزامنة النتائج بين الويب والموبايل
- **المستخدمين**: إدارة موحدة للحسابات

---

## 🚀 النشر والاستضافة

### 🌐 نشر على Netlify
1. **ربط المستودع**
2. **تكوين البناء**
3. **إعداد متغيرات البيئة**
4. **نشر تلقائي عند التحديث**

### ☁️ نشر Firebase Functions
```bash
firebase deploy --only functions
```

### 📱 نشر التطبيق المحمول
- **Android**: Google Play Console
- **iOS**: App Store Connect

---

## 🔧 الصيانة والمراقبة

### 📊 مراقبة الأداء
- **Firebase Performance**: مراقبة أداء التطبيق
- **Analytics**: تتبع الاستخدام
- **Error Tracking**: رصد الأخطاء

### 🔄 النسخ الاحتياطي
- **Firestore**: نسخ احتياطية تلقائية
- **Storage**: نسخ احتياطية للملفات
- **Code**: نسخ احتياطية في GitHub

### 🛠️ التحديثات
- **تحديثات أمنية منتظمة**
- **تحديث التبعيات**
- **إضافة ميزات جديدة**

---

## 📞 الدعم والمساعدة

### 📧 التواصل
- **البريد الإلكتروني**: support@colorstest.com
- **الموقع الرسمي**: https://colorstest.com/
- **GitHub Issues**: للمشاكل التقنية

### 📚 الموارد
- **الوثائق**: https://docs.colorstest.com/
- **الفيديوهات التعليمية**: https://youtube.com/colorstest
- **المجتمع**: https://community.colorstest.com/

---

## 📄 الترخيص والحقوق

**ColorTests** © 2024 - جميع الحقوق محفوظة
- **المطورون**: Mohammed Nafa Al-Ruwaili & Youssef Musayyir Al-Anzi
- **الترخيص**: MIT License
- **الاستخدام التجاري**: مسموح بموجب الترخيص

---

*تم إنشاء هذا الدليل بواسطة Augment Agent - آخر تحديث: 16 سبتمبر 2025*
